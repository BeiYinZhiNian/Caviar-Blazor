<Menu Mode="MenuMode.Inline"
      Accordion="false"
      Theme="MenuTheme.Dark"
      @bind-OpenKeys="@OpenKeysNav"
      InlineCollapsed="InlineCollapsed"
      Selectable="false"
      OnMenuItemClicked="OnMenuItemClickedNav">
    @if (SysMenus != null)
    {
        var menu = GetSubMenu(SysMenus);
        @menu
    }
</Menu>

@code {
    RenderFragment GetSubMenu(List<ViewMenu> ViewMenus)
    {
        RenderFragment ViewSubMenu = null;
        if (ViewMenus == null || ViewMenus.Count == 0) return ViewSubMenu;
        ViewMenus = ViewMenus.OrderBy(u => u.Number).ToList();
        foreach (var item in ViewMenus)
        {
            RenderFragment subTitle =
            @<span style="font-size:15px">
            @if (!string.IsNullOrEmpty(item.Icon))
            {
                <Icon Style="font-size:15px" Type="@item.Icon" Theme="outline"></Icon>
            }
            <span>@item.MenuName</span>
            </span>;
            switch (item.MenuType)
            {
                case MenuType.Catalog:
                     ViewSubMenu +=
                     @<SubMenu Key="@item.MenuName" TitleTemplate="subTitle">
                     @GetSubMenu(item.Children)
                     </SubMenu>;
                     break;
                case MenuType.Menu:
                ViewSubMenu += @<MenuItem Key="@item.MenuName" RouterLink="@item.Url">@subTitle</MenuItem>;
                    break;
                default:
                    break;
            }
        };
        return ViewSubMenu;
    }
}


